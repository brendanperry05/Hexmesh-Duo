using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using TMPro;
using System.IO;

public class ScriptedSpawner : MonoBehaviour
{
    public GameObject cube;
    public int cubeDirection = 1;
    public Transform plane;
    public int spawnAmount = 100;
    public float spawnRate = 1f;
    [Tooltip("Lower is more")]
    public int specialBlockSpawnRatio = 25;
    int amountSpawned = 1;

    public int level = 1;

    public TextMeshProUGUI timeText;

    public Color[] colors;
    private Color[] colorGrid;
    private int[] sizeGrid;

    private GameObject[] cubes;
    private GameObject[] explosions;
    public GameObject explosion;
    public GameObject[] column1;

    private string[] spawnsLeft1 = {"60", "70", "51", "11", "82", "51", "82", "52", "20", "82", "22", "32", "10", "22", "72", "72", "60", "22", "20", "02", "52", "81", "40", "01", "54", "40", "41", "00", "42", "81", "02", "82", "21", "62", "72", "80", "01", "10", "61", "81", "41", "30", "10", "60", "50", "51", "10", "30", "72", "04", "41", "40", "10", "81", "80", "02", "41", "70", "51", "02", "71", "30", "00", "40", "41", "20", "01", "12", "32", "30", "01", "70", "51", "41", "03", "62", "40", "41", "30", "11", "70", "31", "81", "70", "72", "11", "52", "82", "12", "52", "62", "40", "20", "10", "30", "32", "61", "02", "71", "13", "52", "32", "82", "21", "50", "11", "61", "22", "21", "82", "22", "50", "40", "81", "10", "51", "31", "61", "02", "40", "80", "80", "10", "32", "74", "72", "11", "11", "71", "62", "61", "41", "32", "30", "01", "11", "00", "22", "10", "40", "80", "40", "02", "61", "61", "81", "70", "01", "20", "84", "42", "21", "71", "52", "81", "61", "61", "11", "81", "41", "81", "61", "40", "22", "21", "32", "32", "32", "02", "82", "01", "21", "11", "30", "23", "12", "52", "40", "70", "61", "30", "22", "41", "31", "01", "60", "00", "42", "30", "40", "60", "80", "70", "30", "81", "81", "10", "11", "40", "83"};//, "10", "02", "62", "22", "62", "11", "32", "50", "70", "10", "21", "21", "21", "31", "20", "72", "51", "31", "42", "60", "52", "42", "03", "31", "11", "01", "11", "10", "80", "22", "50", "41", "60", "82", "20", "51", "81", "31", "62", "80", "30", "50", "61", "41", "71", "03", "60", "01", "80", "02", "41", "82", "41", "12", "61", "20", "80", "01", "81", "82", "52", "02", "82", "41", "52", "31", "32", "12", "02", "12", "23", "71", "31", "00", "21", "51", "51", "22", "21", "42", "70", "71", "40", "12", "11", "01", "00", "32", "51", "21", "61", "22", "02", "51", "41", "03", "02", "50", "00", "12", "80", "71", "72", "72", "51", "60", "41", "20", "60", "42", "22", "11", "20", "02", "21", "02", "82", "50", "62", "72", "83", "71", "32", "62", "32", "61", "20", "40", "12", "10", "70", "22", "31", "10", "32", "32", "40", "51", "70", "51", "72", "61", "02", "22", "82", "33", "11", "70", "81", "80", "12", "40", "11", "60", "70", "52", "41", "31", "02", "51", "52", "51", "82", "71", "01", "51", "71", "01", "52", "41", "73", "52", "61", "72", "60", "50", "82", "61", "30", "60", "30", "51", "02", "12", "11", "62", "60", "60", "40", "72", "81", "81", "20", "40", "50", "53", "12", "50", "02", "20", "30", "22", "72", "40", "10", "61", "21", "22", "52", "70", "62", "71", "40", "81", "10", "10", "52", "11", "11", "02", "83", "50", "50", "21", "22", "10", "20", "70", "81", "41", "62", "42", "00", "62", "71", "40", "71", "22", "70", "32", "31", "62", "21", "41", "72", "14", "82", "22", "81", "62", "02", "80", "60", "62", "20", "71", "10", "11", "70", "82", "22", "12", "02", "60", "50", "41", "32", "12", "20", "32", "84", "00", "71", "41", "72", "70", "62", "01", "70", "80", "10", "71", "31", "10", "21", "22", "02", "10", "80", "30", "00", "01", "71", "21", "30", "74", "41", "62", "30", "30", "20", "32", "52", "30", "50", "11", "41", "12", "60", "71", "62", "61", "50", "72", "11", "70", "42", "52", "10", "20", "23", "20", "30", "70", "71", "61", "81", "00", "50", "02", "42", "82", "31", "80", "32", "50", "31", "50", "30", "51", "12", "80", "20", "71", "10", "74", "81", "82", "00", "21", "62", "32", "12", "51", "41", "80", "61", "21", "02", "62", "62", "52", "50", "41", "51", "22", "21", "40", "12", "02", "34", "01", "61", "42", "60", "72", "30", "31", "20", "02", "60", "50", "71", "82", "00", "40", "52", "32", "21", "11", "32", "40", "20", "61", "61", "54", "10", "01", "80", "61", "22", "42", "60", "72", "10", "40", "00", "30", "71", "02", "02", "72", "62", "12", "21", "21", "01", "11", "10", "02" };
    private string[] spawnsRight1 = { "00", "41", "72", "61", "80", "30", "41", "50", "32", "51", "32", "21", "61", "41", "50", "02", "30", "50", "62", "32", "62", "52", "71", "02", "83", "21", "00", "02", "71", "31", "80", "70", "51", "11", "12", "11", "01", "82", "31", "20", "72", "80", "72", "82", "00", "51", "10", "40", "60", "54", "50", "21", "71", "62", "41", "22", "72", "30", "41", "80", "61", "11", "30", "51", "11", "32", "50", "61", "82", "02", "31", "70", "20", "21", "23", "62", "80", "10", "02", "70", "72", "80", "42", "02", "82", "00", "81", "60", "62", "01", "10", "12", "21", "02", "02", "32", "20", "51", "72", "43", "30", "41", "01", "02", "32", "41", "21", "32", "30", "02", "01", "80", "30", "71", "80", "00", "10", "62", "70", "82", "01", "21", "60", "50", "43", "40", "42", "02", "62", "01", "82", "21", "81", "01", "42", "70", "51", "21", "62", "82", "51", "60", "00", "82", "62", "80", "10", "01", "02", "54", "82", "61", "71", "22", "70", "61", "22", "22", "20", "10", "31", "32", "81", "11", "31", "30", "52", "72", "32", "40", "61", "01", "00", "62", "84", "81", "00", "42", "71", "32", "01", "20", "31", "52", "12", "50", "11", "11", "02", "01", "71", "22", "01", "50", "41", "80", "41", "40", "20", "73"}; //, "70", "62", "32", "82", "21", "60", "10", "81", "80", "70", "60", "21", "21", "12", "21", "60", "82", "60", "00", "52", "21", "52", "50", "32", "03", "72", "31", "72", "32", "82", "62", "22", "32", "30", "32", "10", "62", "62", "50", "81", "11", "81", "12", "02", "60", "20", "72", "80", "82", "04", "82", "61", "31", "42", "00", "70", "11", "22", "52", "10", "40", "70", "60", "71", "70", "71", "50", "02", "01", "41", "40", "00", "81", "02", "23", "32", "32", "51", "30", "01", "42", "72", "52", "50", "01", "81", "80", "42", "00", "80", "42", "21", "42", "01", "30", "32", "82", "40", "50", "23", "41", "31", "02", "10", "82", "00", "01", "40", "30", "60", "51", "81", "61", "00", "82", "40", "00", "62", "31", "01", "21", "82", "40", "30", "13", "31", "10", "11", "10", "12", "22", "02", "61", "32", "50", "00", "52", "61", "41", "42", "50", "40", "22", "32", "40", "51", "70", "50", "11", "84", "32", "00", "32", "00", "82", "32", "82", "30", "32", "50", "02", "30", "82", "61", "30", "42", "51", "31", "21", "30", "40", "81", "82", "42", "13", "71", "80", "70", "30", "51", "12", "81", "21", "31", "61", "70", "00", "11", "71", "21", "20", "42", "50", "00", "00", "32", "72", "30", "40", "34", "22", "81", "60", "62", "82", "81", "61", "21", "61", "70", "61", "20", "01", "31", "80", "50", "81", "61", "81", "01", "70", "12", "00", "82", "23", "31", "72", "11", "52", "62", "71", "51", "50", "01", "61", "31", "20", "22", "00", "42", "71", "30", "41", "62", "00", "12", "31", "80", "62", "83", "21", "50", "10", "20", "41", "11", "72", "71", "80", "00", "60", "32", "31", "51", "81", "50", "80", "10", "50", "51", "71", "02", "42", "50", "03", "32", "30", "71", "30", "52", "42", "22", "10", "52", "12", "52", "50", "62", "52", "22", "11", "40", "31", "60", "10", "10", "70", "70", "30", "34", "70", "10", "50", "61", "30", "02", "70", "62", "52", "21", "60", "41", "12", "50", "31", "61", "01", "31", "42", "32", "02", "21", "52", "02", "34", "81", "21", "10", "52", "41", "12", "00", "02", "40", "52", "41", "32", "80", "31", "21", "52", "62", "10", "71", "01", "02", "10", "82", "20", "34", "50", "30", "21", "72", "21", "80", "01", "31", "62", "51", "71", "12", "31", "10", "20", "80", "10", "30", "72", "51", "72", "52", "21", "30", "14", "32", "62", "30", "02", "50", "41", "00", "81", "81", "60", "21", "62", "01", "31", "20", "02", "50", "60", "82", "60", "40", "41", "40", "70", "44", "10", "71", "02", "60", "10", "30", "12", "00", "60", "71", "40", "80", "60", "22", "21", "72", "41", "82", "41" };

    private string[] spawnsLeft2 = {"22", "61", "11", "31", "21", "70", "01", "62", "32", "61", "32", "54", "11", "50", "30", "40", "32", "10", "11", "42", "31", "31", "52", "62", "32", "20", "11", "71", "10", "71", "00", "32", "62", "82", "20", "02", "03", "70", "10", "10", "70", "71", "62", "42", "12", "10", "70", "81", "71", "80", "00", "12", "31", "72", "02", "52", "22", "71", "22", "10", "41", "73", "01", "21", "22", "52", "31", "70", "30", "21", "00", "00", "81", "62", "41", "61", "71", "30", "71", "02", "00", "22", "61", "72", "81", "12", "04", "22", "50", "11", "12", "82", "62", "40", "62", "40", "71", "40", "52", "50", "11", "30", "00", "10", "00", "31", "21", "02", "51", "80", "62", "83", "51", "42", "12", "50", "30", "21", "52", "62", "62", "50", "20", "61", "32", "30", "10", "11", "10", "72", "00", "60", "20", "42", "00", "01", "34", "10", "01", "00", "11", "61", "52", "42", "10", "71", "60", "50", "82", "61", "52", "52", "21", "12", "12", "00", "80", "11", "02", "02", "21", "64", "40", "30", "80", "61", "51", "21", "72", "72", "11", "80", "00", "02", "21", "70", "12", "70", "80", "60", "82", "30", "70", "51", "51", "40", "83", "80", "51", "02", "81", "51", "32", "11", "70", "10", "12", "21", "02", "70", "30", "71", "51", "52", "82", "40", "72", "41", "62", "61", "81", "13", "40", "62", "71", "72", "82", "10", "82", "60", "70", "42", "61", "50", "60", "11", "51", "51", "41", "50", "60", "00", "31", "10", "70", "80", "83", "21", "71", "71", "02", "51", "60", "31", "51", "71", "72", "61", "00", "82", "51", "32", "30", "71", "40", "20", "40", "70", "40", "70", "81", "34"};//, "11", "10", "00", "71", "32", "42", "72", "21", "00", "80", "11", "60", "81", "01", "62", "52", "10", "80", "22", "21", "42", "81", "51", "20", "24", "41", "70", "72", "40", "21", "10", "81", "70", "81", "40", "61", "01", "30", "01", "80", "20", "00", "42", "30", "31", "80", "70", "50", "12", "03", "02", "81", "40", "50", "52", "42", "40", "01", "21", "40", "81", "81", "60", "02", "22", "11", "32", "40", "22", "82", "10", "10", "60", "81", "63", "50", "32", "10", "50", "81", "51", "10", "22", "02", "00", "50", "81", "20", "52", "82", "62", "71", "52", "21", "42", "40", "81", "50", "81", "34", "50", "41", "00", "41", "00", "82", "70", "70", "40", "02", "61", "41", "00", "70", "01", "62", "62", "12", "61", "41", "31", "52", "51", "42", "33", "71", "52", "21", "82", "11", "50", "11", "51", "80", "12", "72", "01", "01", "21", "71", "11", "82", "41", "20", "80", "00", "52", "11", "20", "64", "81", "62", "61", "51", "11", "60", "52", "82", "11", "81", "82", "21", "20", "12", "30", "72", "42", "41", "02", "72", "40", "72", "12", "61", "84", "22", "11", "12", "60", "12", "31", "70", "31", "41", "41", "22", "41", "30", "14", "32", "62", "30", "02", "50", "41", "00", "81", "81", "60", "21", "62", "01", "31", "20", "02", "50", "60", "82", "60", "40", "41", "40", "70", "44", "10", "71", "02", "60", "10", "30", "12", "00", "60", "71", "40", "80", "60", "22", "21", "72", "41", "82", "41", "10", "71", "50", "21", "01", "44", "00", "01", "10", "82", "81", "42", "62", "81", "60", "52", "51", "22", "62", "60", "81", "02", "32", "42", "30", "81", "41", "61", "80", "12", "43", "41", "00", "11", "42", "52", "51", "72", "22", "80", "71", "50", "40", "60", "02", "72", "72", "40", "20", "31", "00", "00", "01", "42", "01", "23", "61", "82", "31", "02", "01", "70", "71", "70", "41", "10", "82", "12", "20", "80", "01", "41", "30", "41", "12", "40", "20", "30", "52", "32", "63", "80", "71", "70", "42", "32", "02", "81", "42", "31", "71", "30", "31", "70", "31", "50", "31", "30", "21", "12", "22", "12", "61", "60", "02", "53", "31", "51", "82", "20", "81", "01", "10", "22", "10", "12", "40", "60", "61", "70", "70", "40", "72", "00", "72", "12"};
    private string[] spawnsRight2 = {"42", "01", "23", "61", "82", "31", "02", "01", "70", "71", "70", "41", "10", "82", "12", "20", "80", "01", "41", "30", "41", "12", "40", "20", "30", "52", "32", "63", "80", "71", "70", "42", "32", "02", "81", "42", "31", "71", "30", "31", "70", "31", "50", "31", "30", "21", "12", "22", "12", "61", "60", "02", "53", "31", "51", "82", "20", "81", "01", "10", "22", "10", "12", "40", "60", "61", "70", "70", "40", "72", "00", "72", "12", "51", "51", "20", "62", "63", "52", "60", "42", "01", "21", "42", "32", "42", "72", "60", "82", "41", "41", "60", "80", "60", "40", "72", "31", "31", "50", "81", "70", "60", "84", "70", "62", "70", "51", "11", "12", "80", "11", "31", "11", "01", "12", "71", "20", "82", "50", "20", "12", "30", "50", "20", "41", "41", "51", "53", "42", "70", "82", "21", "40", "60", "02", "60", "42", "50", "72", "62", "01", "72", "02", "82", "30", "02", "01", "61", "20", "41", "02", "42", "03", "21", "50", "52", "31", "70", "30", "82", "62", "62", "42", "02", "62", "42", "21", "22", "80", "50", "80", "70", "21", "20", "02", "11", "81", "14", "22", "30", "82", "12", "70", "02", "82", "41", "82", "30", "21", "71", "81", "72", "21", "00", "12", "41", "52", "00", "62", "41", "03", "12", "32", "41", "30", "40", "50", "11", "62", "51", "30", "71", "02", "02", "61", "21", "32", "42", "12", "10", "00", "52", "82", "00", "01", "61", "53", "50", "10", "22", "22", "41", "00", "81", "22", "72", "81", "02", "32", "40", "21", "51", "51", "40", "10", "72", "01", "50", "60", "62", "22", "64", "70", "61", "71", "70", "61", "02", "81", "10", "02", "70"};//, "60", "41", "02", "12", "22", "02", "32", "01", "81", "31", "51", "80", "72", "41", "73", "50", "50", "50", "70", "60", "40", "60", "30", "71", "70", "80", "71", "12", "81", "02", "12", "61", "82", "20", "72", "70", "82", "00", "12", "63", "01", "20", "80", "80", "51", "02", "00", "40", "72", "51", "80", "10", "71", "50", "80", "62", "12", "31", "12", "51", "62", "60", "41", "41", "24", "20", "20", "42", "32", "01", "50", "52", "40", "62", "42", "40", "12", "40", "60", "81", "11", "80", "21", "02", "60", "50", "10", "11", "52", "24", "22", "00", "41", "30", "01", "61", "72", "30", "40", "31", "62", "41", "31", "10", "02", "70", "72", "80", "42", "02", "82", "00", "81", "60", "62", "01", "10", "12", "21", "02", "02", "32", "20", "51", "72", "43", "30", "41", "01", "02", "32", "41", "21", "32", "30", "02", "01", "80", "30", "71", "80", "00", "10", "62", "70", "82", "01", "21", "60", "50", "43", "40", "42", "02", "62", "01", "82", "21", "81", "01", "42", "70", "51", "21", "62", "82", "51", "60", "00", "82", "62", "80", "10", "01", "02", "54", "82", "61", "71", "22", "70", "61", "22", "22", "20", "10", "31", "32", "81", "11", "31", "30", "52", "72", "32", "40", "61", "01", "00", "62", "84", "81", "00", "42", "71", "32", "01", "20", "31", "52", "12", "50", "11", "11", "02", "01", "71", "22", "01", "50", "41", "80", "41", "40", "20", "73", "70", "62", "32", "82", "21", "60", "10", "81", "80", "70", "60", "21", "21", "12", "21", "60", "82", "60", "00", "52", "21", "52", "50", "32", "03", "72", "31", "72", "32", "82", "62", "22", "32", "30", "32", "10", "01", "51", "21", "70", "72", "62", "01", "22", "61", "21", "10", "21", "82", "61", "21", "82", "30", "43", "20", "11", "00", "40", "11", "50", "01", "60", "21", "30", "30", "10", "82", "52", "32", "80", "01", "82", "21", "32", "00", "21", "30", "80", "54", "01", "02", "21", "70", "21", "02", "62", "21", "70", "42", "32", "40", "71", "00", "32", "80", "21", "70", "10", "01", "61", "72", "51", "21", "84", "40", "52", "42", "61", "01", "82", "10", "22", "12", "41", "72", "20", "82", "70", "70", "32", "80", "01", "62", "12", "82", "01", "80", "00", "14", "51", "31", "40", "51"};


    private string[] spawnsLeft3 = {"22", "42", "12", "61", "72", "61", "10", "81", "31", "82", "10", "50", "34", "81", "21", "82", "22", "30", "50", "61", "62", "02", "12", "12", "61", "32", "61", "00", "20", "51", "52", "01", "22", "82", "72", "81", "70", "14", "70", "62", "41", "31", "80", "51", "50", "50", "02", "82", "52", "70", "42", "61", "01", "12", "82", "71", "61", "40", "50", "01", "20", "00", "34", "80", "11", "21", "32", "10", "70", "11", "60", "60", "70", "61", "41", "12", "41", "20", "11", "30", "20", "61", "50", "21", "80", "81", "12", "14", "21", "00", "82", "61", "80", "82", "41", "30", "31", "61", "62", "72", "31", "82", "32", "62", "61", "10", "50", "11", "80", "31", "81", "11", "44", "21", "11", "20", "30", "61", "72", "82", "72", "81", "70", "32", "72", "12", "10", "22", "41", "71", "52", "62", "60", "71", "41", "42", "81", "24", "50", "11", "01", "80", "31", "20", "62", "70", "00", "40", "81", "32", "22", "21", "80", "61", "70", "40", "31", "22", "20", "72", "61", "70", "63", "81", "21", "12", "42", "30", "20", "62", "02", "01", "31", "80", "22", "80", "12", "62", "22", "81", "82", "52", "11", "50", "70", "52", "00", "14", "10", "12", "32", "20", "51", "30", "81", "01", "51", "21", "70", "72", "62", "01", "22", "61", "21", "10", "21", "82", "61", "21", "82", "30", "43", "20", "11", "00", "40", "11", "50", "01", "60", "21", "30", "30", "10", "82", "52", "32", "80", "01", "82", "21", "32", "00", "21", "30", "80", "54", "01", "02", "21", "70", "21", "02", "62", "21", "70", "42", "32", "40", "71", "00", "32", "80", "21", "70", "10", "01", "61", "72", "51", "21", "84", "40", "52", "42", "61", "01", "82", "10", "22", "12", "41", "72", "20", "82", "70", "70", "32", "80", "01", "62", "12", "82", "01", "80", "00", "14", "51", "31", "40", "51", "72", "60", "11", "31", "52", "11", "21", "00", "31", "72", "40", "81", "21", "30"};//, "52", "30", "50", "41", "40", "21", "53", "51", "61", "62", "12", "01", "11", "81", "52", "80", "50", "61", "72", "51", "00", "52", "41", "01", "62", "50", "42", "40", "81", "41", "10", "84", "50", "22", "02", "42", "41", "00", "52", "01", "61", "00", "01", "50", "30", "70", "62", "52", "81", "00", "12", "52", "02", "61", "10", "30", "84", "32", "11", "42", "52", "12", "21", "71", "60", "10", "70", "50", "51", "80", "31", "80", "61", "51", "21", "30", "20", "41", "11", "21", "40", "43", "10", "72", "70", "62", "62", "10", "02", "62", "70", "01", "11", "10", "10", "41", "80", "01", "60", "21", "40", "82", "31", "20", "52", "61", "04", "42", "02", "71", "01", "41", "30", "82", "42", "62", "70", "82", "41", "31", "80", "31", "52", "62", "51", "12", "22", "21", "60", "72", "32", "24", "22", "50", "61", "00", "00", "30", "61", "60", "00", "62", "41", "20", "80", "10", "81", "72", "01", "41", "41", "10", "40", "50", "71", "22", "34", "72", "21", "42", "72", "02", "20", "60", "70", "82", "12", "51", "12", "51", "41", "10", "82", "71", "82", "60", "30", "11", "40", "41", "72", "10", "11", "41", "40", "71", "52", "00", "82", "52", "40", "00", "22", "22", "63", "41", "02", "42", "21", "11", "72", "80", "60", "31", "22", "52", "42", "32", "32", "11", "41", "21", "41", "31", "62", "81", "71", "52", "52", "23", "82", "51", "02", "31", "50", "32", "82", "11", "02", "02", "81", "82", "21", "52", "12", "01", "02", "10", "02", "82", "50", "11", "61", "40", "43", "02", "60", "20", "31", "22", "32", "02", "30", "81", "82", "40", "11", "32", "02", "01", "32", "60", "50", "02", "60", "62", "31", "62", "70", "74", "22", "21", "80", "81", "12", "14", "21", "00", "82", "61", "80", "82", "41", "30", "31", "61", "62", "72", "31", "82", "32", "62", "61", "10", "50", "11", "80", "31", "81", "11", "44", "21", "11", "20", "51", "11", "50", "71", "21", "50", "40", "02", "32", "33"};
    private string[] spawnsRight3 = {"01", "32", "51", "60", "41", "30", "74", "32", "21", "60", "41", "12", "31", "71", "72", "12", "22", "00", "40", "30", "02", "41", "72", "81", "21", "81", "71", "80", "51", "62", "30", "54", "52", "32", "80", "50", "00", "30", "40", "52", "02", "81", "40", "22", "72", "10", "20", "52", "81", "11", "42", "21", "31", "82", "21", "82", "04", "21", "61", "11", "81", "80", "21", "71", "22", "51", "00", "40", "22", "00", "40", "02", "82", "40", "60", "12", "20", "20", "70", "01", "31", "83", "31", "81", "01", "10", "61", "52", "30", "61", "70", "80", "62", "42", "81", "20", "21", "32", "22", "41", "11", "32", "12", "12", "21", "71", "04", "81", "40", "10", "42", "40", "71", "20", "81", "11", "30", "30", "20", "81", "40", "30", "42", "21", "02", "61", "52", "20", "71", "60", "80", "74", "32", "02", "70", "42", "02", "52", "40", "50", "01", "81", "60", "42", "10", "02", "21", "22", "40", "40", "41", "70", "21", "12", "21", "31", "83", "50", "31", "32", "60", "10", "62", "00", "12", "61", "72", "42", "00", "12", "71", "10", "00", "41", "61", "20", "71", "11", "41", "82", "01", "34", "30", "82", "71", "71", "51", "70", "00", "12", "82", "20", "12", "00", "01", "51", "40", "31", "71", "31", "10", "51", "42", "32", "00", "62", "54", "01", "70", "50", "52", "02", "80", "60", "20", "32", "72", "71", "10", "52", "72", "11", "51", "41", "82", "51", "01", "42", "62", "21", "61", "53", "42", "00", "60", "42", "62", "10", "41", "11", "22", "22", "62", "00", "02", "62", "01", "42", "01", "31", "22", "42", "12", "71", "40", "82", "83", "51", "42", "70", "81", "61", "50", "50", "81", "42", "00", "50", "02", "21", "61", "80", "02", "61", "52", "02", "20", "00", "60", "02", "52", "84", "22", "01", "51", "01", "30", "22", "20", "42", "82", "31", "01", "21", "22", "30", "50", "21", "20", "31", "30", "30", "30", "41", "01", "52"};//, "53", "82", "51", "01", "31", "22", "40", "60", "42", "30", "12", "80", "42", "42", "10", "72", "12", "42", "21", "70", "20", "61", "41", "40", "71", "14", "02", "40", "12", "70", "71", "70", "50", "31", "82", "80", "80", "11", "81", "02", "22", "01", "20", "51", "31", "10", "72", "22", "72", "31", "44", "02", "11", "31", "70", "21", "50", "32", "42", "40", "82", "40", "61", "10", "60", "00", "12", "81", "72", "20", "20", "02", "62", "72", "32", "33", "60", "02", "62", "61", "70", "40", "62", "41", "21", "80", "32", "20", "00", "71", "02", "80", "51", "71", "50", "70", "60", "42", "22", "71", "83", "80", "50", "11", "31", "82", "81", "32", "10", "71", "21", "42", "30", "02", "32", "42", "61", "30", "12", "41", "50", "40", "20", "71", "01", "54", "01", "22", "62", "70", "80", "10", "20", "60", "70", "20", "71", "82", "42", "20", "41", "50", "42", "41", "41", "80", "20", "52", "10", "61", "13", "41", "21", "40", "30", "82", "52", "81", "02", "71", "42", "81", "11", "21", "11", "02", "70", "52", "10", "32", "32", "32", "50", "70", "51", "13", "61", "51", "80", "51", "22", "60", "70", "40", "30", "52", "00", "02", "21", "10", "52", "80", "52", "72", "51", "12", "21", "70", "62", "21", "13", "61", "82", "22", "12", "70", "71", "71", "82", "51", "50", "10", "02", "31", "01", "51", "52", "00", "20", "41", "51", "50", "21", "60", "81", "23", "50", "22", "51", "71", "42", "20", "12", "72", "22", "72", "51", "42", "11", "71", "21", "20", "42", "50", "00", "00", "32", "72", "30", "40", "34", "22", "81", "60", "62", "82", "81", "61", "21", "61", "70", "61", "20", "01", "31", "80", "50", "81", "61", "81", "01", "70", "12", "00", "82", "23", "31", "72", "11", "52", "62", "71", "51", "50", "01", "61", "31", "20", "22", "00", "42", "71", "30", "41", "62", "00", "12", "31", "80", "62", "83", "21", "50", "52", "41", "41", "20", "82", "82", "11", "72", "13", "12", "82"};

    private string[] spawnsLeft4 = {"71", "52", "30", "12", "10", "62", "32", "71", "01", "81", "00", "52", "63", "32", "61", "00", "50", "00", "80", "70", "40", "42", "52", "42", "31", "32", "52", "60", "22", "30", "32", "22", "30", "60", "82", "71", "22", "04", "30", "32", "51", "11", "50", "30", "71", "30", "80", "31", "70", "80", "10", "01", "42", "21", "71", "11", "11", "02", "21", "81", "20", "52", "54", "50", "01", "72", "60", "31", "01", "42", "40", "31", "00", "62", "30", "82", "20", "10", "82", "22", "62", "22", "41", "82", "81", "40", "01", "44", "32", "11", "52", "31", "31", "52", "62", "02", "80", "10", "61", "30", "31", "40", "50", "72", "62", "72", "32", "31", "41", "32", "21", "21", "74", "30", "71", "60", "61", "42", "62", "41", "02", "21", "41", "40", "70", "81", "30", "00", "61", "82", "02", "22", "50", "10", "62", "51", "62", "13", "82", "82", "41", "32", "51", "00", "01", "81", "60", "32", "42", "60", "20", "00", "52", "11", "20", "32", "00", "22", "32", "41", "42", "20", "43", "70", "20", "72", "22", "31", "62", "52", "11", "21", "72", "72", "31", "60", "70", "31", "40", "71", "21", "72", "82", "20", "30", "82", "52", "44", "61", "62", "40", "11", "40", "21", "60", "30", "12", "52", "72", "02", "82", "50", "82", "61", "82", "00", "20", "52", "52", "81", "31", "21", "73", "12", "12", "72", "60", "32", "70", "40", "52", "31", "01", "10", "22", "70", "00", "20", "41", "20", "60", "72", "80", "82", "41", "02", "40", "34", "61", "11", "12", "50", "20", "32", "62", "41", "10", "40", "60", "42", "01", "60", "62", "70", "01", "42", "82", "62", "41", "20", "30", "51", "84", "22", "42", "01", "81", "81", "62", "71", "70", "81", "70", "20", "40", "50", "80", "61", "80", "70", "01", "01", "70", "71", "30", "00", "01", "13", "70", "62", "41", "62", "52", "10", "50", "62", "00", "10", "82", "82", "20", "42", "10", "51", "72", "40", "51", "42", "30", "60", "30", "11", "44", "20", "82", "52", "70", "82", "41", "50", "12", "22", "10", "72", "10", "01", "00", "32", "62", "00", "41", "52", "70", "01", "20", "62", "42", "04", "01", "10", "10", "01", "60", "12", "01", "10", "61", "40", "61", "60", "42", "12", "20", "70", "30", "20", "60", "10", "31", "00", "30", "02", "03", "31", "12", "32", "31", "30", "02", "10", "00", "80", "82", "40", "12", "50", "72", "61", "02", "32", "31", "41", "71", "22", "02", "61", "41", "14", "52", "20", "61", "22", "00", "71", "70", "41", "52", "02", "31", "11", "70", "30", "81", "82", "40", "60", "71", "02", "61", "70", "32", "62", "33", "10", "82", "80", "41", "40", "72", "52", "00", "51", "12", "22", "80", "71", "32", "30", "72", "30", "22", "71", "02", "50", "82", "01", "12", "43", "82", "32", "30", "71", "81", "82", "82", "21", "70", "12", "71", "12", "52", "51", "01", "21", "71", "52", "62", "01", "50", "81", "20", "02", "43", "52", "80", "70", "51", "61", "02", "50", "02", "70", "71", "02", "21", "80", "40", "82", "22", "41", "71", "72", "50", "02", "30", "21", "82", "73", "42", "71", "01", "51", "62", "50", "71", "71", "70", "10", "02", "20", "42", "60", "02", "61", "31", "51", "20", "10", "11", "30", "40", "10", "03", "50", "21", "60", "21", "82", "52", "51", "51", "01", "20", "01", "60", "81", "21", "70", "70", "41", "10", "72", "82", "62", "82", "00", "42", "24", "31", "40", "42", "31", "00", "21", "20", "80", "72", "20", "02", "70", "11", "22", "11", "21", "11", "21", "02", "11", "32", "00", "82", "62", "73", "41", "62", "00", "10", "21", "01", "80", "21", "02", "01", "72", "11", "31", "52", "20", "62", "20", "31", "82", "32", "50", "32", "41", "32", "13", "50", "71", "41", "31", "10", "61", "42", "71", "31", "70", "01", "82", "51", "42", "00", "40", "62", "40", "60", "00", "40", "31", "00", "62", "30", "82", "20", "10", "82", "22", "62", "22"};
    private string[] spawnsRight4 = {"62", "60", "01", "52", "74", "01", "52", "71", "22", "62", "81", "82", "20", "50", "81", "50", "41", "30", "52", "82", "61", "42", "62", "20", "52", "40", "32", "41", "72", "14", "71", "32", "61", "00", "02", "80", "82", "82", "60", "60", "60", "81", "80", "52", "62", "11", "41", "32", "30", "10", "72", "30", "30", "80", "63", "31", "82", "02", "31", "30", "81", "30", "70", "30", "41", "62", "61", "80", "32", "12", "82", "02", "61", "71", "50", "52", "70", "01", "32", "34", "50", "80", "20", "20", "70", "20", "80", "62", "42", "21", "81", "72", "41", "60", "02", "40", "11", "82", "50", "40", "12", "51", "60", "00", "33", "12", "10", "61", "60", "02", "40", "41", "52", "00", "41", "81", "41", "71", "72", "00", "62", "20", "20", "21", "81", "60", "01", "01", "62", "24", "62", "31", "51", "40", "70", "61", "40", "32", "01", "30", "72", "31", "10", "60", "80", "82", "60", "22", "01", "21", "61", "60", "30", "20", "73", "70", "00", "32", "40", "52", "31", "60", "32", "11", "80", "52", "80", "50", "41", "41", "81", "10", "01", "70", "41", "10", "32", "11", "12", "53", "20", "60", "52", "11", "40", "30", "11", "62", "21", "22", "31", "12", "31", "62", "62", "41", "60", "62", "60", "72", "80", "71", "31", "22", "63", "70", "12", "71", "72", "51", "82", "12", "11", "22", "31", "60", "30", "50", "41", "70", "02", "71", "12", "71", "81", "51", "10", "60", "40", "23", "11", "51", "71", "41", "31", "00", "82", "01", "81", "31", "60", "11", "61", "02", "52", "80", "22", "02", "02", "10", "40", "20", "20", "10", "83", "02", "70", "60", "01", "20", "61", "10", "61", "82", "32", "12", "11", "70", "61", "42", "70", "20", "60", "82", "21", "42", "11", "00", "02", "74", "02", "80", "62", "70", "60", "81", "00", "40", "21", "41", "82", "11", "21", "21", "32", "70", "42", "01", "52", "41", "21", "31", "52", "12", "54", "60", "20", "50", "81", "62", "10", "30", "20", "21", "41", "60", "01", "80", "31", "50", "22", "81", "61", "60", "11", "42", "82", "61", "31", "83", "60", "81", "10", "00", "71", "71", "52", "80", "01", "01", "52", "80", "21", "80", "11", "20", "30", "70", "02", "71", "00", "31", "21", "30", "04", "32", "01", "21", "12", "11", "00", "12", "60", "72", "41", "22", "52", "40", "31", "02", "40", "51", "30", "80", "12", "81", "41", "12", "60", "34", "42", "71", "31", "51", "31", "62", "41", "72", "30", "12", "81", "30", "40", "70", "40", "51", "12", "02", "70", "60", "62", "81", "40", "21", "03", "70", "60", "21", "22", "42", "40", "61", "30", "81", "41", "82", "81", "80", "42", "50", "81", "00", "12", "50", "71", "00", "41", "61", "30", "13", "52", "02", "40", "10", "62", "40", "01", "12", "10", "21", "20", "32", "50", "30", "10", "42", "02", "00", "81", "12", "00", "52", "50", "51", "84", "61", "21", "40", "31", "72", "62", "00", "11", "02", "52", "41", "12", "71", "81", "50", "01", "01", "60", "00", "61", "70", "41", "70", "60", "64", "71", "32", "01", "60", "02", "60", "61", "61", "22", "11", "72", "52", "62", "70", "42", "32", "62", "70", "61", "21", "00", "10", "00", "30", "44", "71", "50", "01", "10", "72", "41", "62", "71", "80", "70", "32", "11", "40", "62", "72", "01", "01", "52", "02", "02", "62", "20", "72", "12", "53", "12", "22", "70", "30", "01", "01", "82", "52", "52", "81", "30", "40", "82", "02", "41", "04", "12", "51", "70", "42", "32", "11", "50", "20", "62", "40", "21", "10", "82", "41", "70", "51", "52", "71", "62", "80", "40", "62", "51", "10", "43", "61", "30", "21", "21", "22", "30", "82", "52", "41", "10", "81", "62", "22", "70", "81", "32", "71", "81", "62", "72", "60", "52", "61", "80", "84", "42", "50", "51", "80", "81", "32", "42", "01", "51", "11", "00", "42", "51", "22", "22", "71", "40", "00", "72", "22", "81", "74", "63", "63"};

    private string[] spawnsLeft5 = {"40", "51", "11", "50", "71", "21", "50", "40", "02", "32", "84", "01", "31", "42", "11", "22", "80", "21", "31", "11", "30", "51", "62", "30", "02", "81", "72", "20", "20", "80", "42", "11", "82", "72", "20", "63", "52", "42", "62", "30", "10", "42", "61", "01", "11", "10", "80", "41", "32", "80", "11", "72", "40", "52", "81", "22", "30", "62", "00", "20", "13", "41", "20", "00", "51", "32", "52", "02", "11", "40", "11", "20", "60", "60", "02", "10", "21", "52", "72", "41", "72", "31", "50", "71", "82", "84", "00", "30", "72", "21", "81", "82", "62", "12", "42", "30", "31", "40", "21", "30", "70", "72", "30", "30", "20", "60", "00", "50", "11", "62", "33", "51", "60", "00", "10", "62", "11", "31", "42", "60", "41", "41", "20", "40", "31", "11", "50", "01", "61", "51", "81", "12", "22", "82", "42", "53", "61", "32", "81", "62", "51", "40", "10", "31", "31", "81", "62", "30", "50", "80", "50", "12", "31", "00", "71", "32", "32", "52", "41", "30", "64", "61", "62", "12", "72", "81", "60", "30", "11", "40", "41", "72", "10", "11", "41", "40", "71", "52", "00", "82", "52", "40", "00", "22", "22", "63", "41", "02", "42", "21", "11", "72", "80", "60", "31", "22", "52", "42", "32", "32", "11", "41", "21", "41", "31", "62", "81", "71", "52", "52", "23", "82", "51", "02", "31", "50", "32", "82", "11", "02", "02", "81", "82", "21", "52", "12", "01", "02", "10", "02", "82", "50", "11", "61", "40", "43", "02", "60", "20", "31", "22", "32", "02", "30", "81", "82", "40", "11", "32", "02", "01", "32", "60", "50", "02", "60", "62", "31", "62", "70", "74", "22", "42", "01", "80", "30", "51", "81", "01", "82", "12", "61", "61", "72", "30", "51", "62", "31", "00", "70", "71", "42", "42", "02", "52", "83", "00", "62", "80", "61", "52", "62", "00", "00", "32", "71", "71", "42", "12", "32", "21", "80", "31", "70", "71", "41", "62", "72", "01", "40", "13", "41", "30", "22", "22", "00", "22", "82", "70", "30", "00", "11", "00", "71", "42", "61", "22", "50", "00", "40", "60", "11", "72", "20", "81", "84", "70", "11", "30", "80", "11", "22", "40", "50", "30", "62", "60", "60", "72", "01", "20", "00", "52", "60", "60", "00", "40", "21", "50", "61", "84", "62", "50", "01", "62", "20", "42", "72", "22", "12", "01", "01", "82", "12", "50", "72", "31", "71", "02", "60", "51", "70", "72", "81", "40", "63", "22", "60", "30", "82", "41", "02", "72", "72", "30", "11", "31", "41", "70", "41", "10", "12", "72", "20", "11", "81", "82", "00", "40", "00", "64", "42", "20", "21", "41", "72", "42", "50", "00", "81", "02", "20", "51", "62", "80", "40", "12", "51", "80", "80", "30", "41", "70", "31", "41", "53", "62", "80", "21", "32", "72", "52", "62", "40", "61", "42", "62", "80", "80", "12", "72", "01", "01", "21", "71", "11", "82", "41", "20", "80", "00", "52", "11", "20", "64", "81", "62", "61", "51", "11", "60", "52", "82", "11", "81", "82", "21", "20", "12", "30", "72", "42", "41", "02", "72", "40", "72", "12", "61", "84", "22", "11", "12", "60", "12", "31", "70", "31", "41", "41", "22", "41", "22", "42", "12", "61", "72", "61", "10", "81", "31", "82", "10", "50", "34", "81", "21", "82", "22", "30", "50", "61", "62", "02", "12", "12", "61", "32", "61", "00", "20", "51", "52", "01", "22", "82", "72", "81", "70", "14", "70", "62", "41", "31", "80", "51", "50", "50", "02", "82", "52", "70", "42", "61", "01", "12", "82", "71", "61", "40", "50", "01", "20", "00", "34", "80", "11", "21", "32", "10", "70", "11", "60", "60", "70", "61", "41", "12", "41", "20", "11", "30", "20", "61", "50", "21", "80", "81", "12", "14", "21", "00", "82", "61", "80", "82", "41", "30", "31", "61", "62", "72", "31", "82", "32", "62", "61", "10", "50", "11", "80", "31", "81", "11", "44", "21", "11", "20", "30", "61"};
    private string[] spawnsRight5 = {"12", "61", "61", "82", "42", "31", "51", "41", "62", "10", "80", "71", "74", "72", "80", "10", "31", "81", "01", "62", "30", "32", "20", "71", "22", "50", "12", "82", "01", "70", "30", "20", "21", "20", "30", "31", "02", "84", "61", "30", "31", "30", "72", "10", "40", "51", "41", "81", "00", "72", "01", "42", "11", "42", "82", "72", "81", "61", "31", "10", "31", "40", "84", "31", "62", "80", "61", "72", "62", "20", "11", "10", "82", "62", "71", "02", "20", "11", "82", "22", "42", "02", "82", "42", "71", "82", "41", "04", "62", "00", "02", "02", "62", "12", "22", "22", "71", "71", "51", "42", "31", "20", "41", "60", "32", "12", "61", "00", "02", "31", "32", "02", "24", "81", "42", "82", "21", "20", "82", "31", "72", "01", "12", "50", "42", "70", "10", "72", "81", "00", "10", "12", "12", "80", "50", "61", "41", "33", "22", "41", "22", "21", "62", "61", "42", "20", "60", "81", "71", "60", "50", "30", "52", "82", "42", "51", "00", "40", "81", "51", "31", "21", "63", "40", "42", "52", "32", "70", "61", "70", "31", "22", "22", "41", "82", "42", "20", "30", "61", "60", "30", "01", "61", "10", "81", "82", "32", "24", "81", "01", "11", "20", "22", "60", "52", "11", "31", "70", "20", "61", "62", "40", "00", "41", "51", "10", "32", "20", "62", "30", "61", "41", "04", "12", "51", "70", "42", "32", "11", "50", "20", "62", "40", "21", "10", "82", "41", "70", "51", "52", "71", "62", "80", "40", "62", "51", "10", "43", "61", "30", "21", "21", "22", "30", "82", "52", "41", "10", "81", "62", "22", "70", "81", "32", "71", "81", "62", "72", "60", "52", "61", "80", "84", "42", "50", "51", "80", "81", "32", "42", "01", "51", "11", "00", "42", "51", "22", "22", "71", "70", "32", "21", "30", "22", "30", "41", "60", "73", "51", "71", "02", "20", "52", "62", "22", "40", "62", "00", "71", "12", "01", "32", "52", "10", "31", "40", "61", "82", "32", "21", "42", "62", "03", "20", "41", "52", "41", "22", "62", "20", "71", "01", "12", "30", "21", "62", "01", "02", "20", "21", "62", "11", "72", "82", "40", "42", "60", "23", "30", "80", "70", "80", "10", "30", "30", "32", "22", "30", "60", "82", "71", "22", "04", "30", "32", "51", "11", "50", "30", "71", "30", "80", "31", "70", "80", "10", "01", "42", "21", "71", "11", "11", "02", "21", "81", "20", "52", "54", "50", "01", "72", "60", "31", "01", "42", "40", "31", "00", "62", "30", "82", "20", "10", "82", "22", "62", "22", "41", "82", "81", "40", "01", "44", "32", "11", "52", "31", "31", "52", "62", "02", "80", "10", "61", "30", "31", "40", "50", "72", "62", "72", "32", "31", "41", "32", "21", "21", "74", "30", "71", "60", "61", "42", "62", "41", "02", "21", "41", "40", "70", "81", "30", "00", "61", "82", "02", "22", "50", "10", "62", "51", "62", "13", "82", "82", "41", "32", "51", "00", "01", "81", "60", "32", "42", "60", "20", "00", "52", "11", "20", "32", "00", "22", "32", "41", "42", "20", "43", "70", "20", "72", "22", "31", "62", "52", "11", "21", "72", "72", "31", "60", "70", "31", "40", "71", "21", "72", "82", "20", "30", "82", "52", "44", "61", "62", "40", "11", "40", "21", "60", "30", "12", "52", "72", "02", "82", "50", "82", "61", "82", "00", "20", "52", "52", "81", "31", "21", "73", "12", "12", "72", "60", "32", "70", "40", "52", "31", "01", "10", "22", "70", "00", "20", "41", "20", "60", "72", "80", "82", "41", "02", "40", "34", "61", "11", "12", "50", "20", "32", "62", "41", "10", "40", "60", "42", "01", "60", "62", "70", "01", "42", "82", "62", "41", "20", "30", "51", "84", "22", "42", "01", "81", "81", "62", "71", "70", "81", "70", "20", "40", "50", "80", "61", "80", "70", "01", "01", "70", "71", "30", "00", "01", "13", "70", "62", "41", "62", "52", "10", "50", "62", "00", "10", "82", "82", "20", "42", "10", "51", "72"};

    private string[] spawnsLeft;
    private string[] spawnsRight;

    private List<List<GameObject>> stacks = new List<List<GameObject>>();
    private List<GameObject> stack1 = new List<GameObject>();
    private List<GameObject> stack2 = new List<GameObject>();
    private List<GameObject> stack3 = new List<GameObject>();
    private List<GameObject> stack4 = new List<GameObject>();
    private List<GameObject> stack5 = new List<GameObject>();
    private List<GameObject> stack6 = new List<GameObject>();
    private List<GameObject> stack7 = new List<GameObject>();
    private List<GameObject> stack8 = new List<GameObject>();
    private List<GameObject> stack9 = new List<GameObject>();
    private List<GameObject> row1 = new List<GameObject>();
    private List<GameObject> row2 = new List<GameObject>();
    private List<GameObject> row3 = new List<GameObject>();
    private List<GameObject> row4 = new List<GameObject>();
    private List<GameObject> row5 = new List<GameObject>();
    private List<GameObject> row6 = new List<GameObject>();
    private List<GameObject> row7 = new List<GameObject>();
    private List<GameObject> row8 = new List<GameObject>();
    private List<GameObject> row9 = new List<GameObject>();
    private List<List<GameObject>> rows = new List<List<GameObject>>();
    public Manager manager;

    // Start is called before the first frame update
    void Start()
    {
        if(level == 1) {
            spawnsLeft = spawnsLeft1;
            spawnsRight = spawnsRight1;
            print(spawnsLeft.Length);
        }
        else if(level == 2) {
            spawnsLeft = spawnsLeft2;
            spawnsRight = spawnsRight2;
            print(spawnsLeft.Length);
        }
        else if(level == 3) {
            spawnsLeft = spawnsLeft3;
            spawnsRight = spawnsRight3;
            print(spawnsLeft.Length);
        }
        else if(level == 4) {
            spawnsLeft = spawnsLeft4;
            spawnsRight = spawnsRight4;
        }
        else if(level == 5) {
            spawnsLeft = spawnsLeft5;
            spawnsRight = spawnsRight5;
        }

        rows.Add(row1);
        rows.Add(row2);
        rows.Add(row3);
        rows.Add(row4);
        rows.Add(row5);
        rows.Add(row6);
        rows.Add(row7);
        rows.Add(row8);
        rows.Add(row9);

        stacks.Add(stack1);
        stacks.Add(stack2);
        stacks.Add(stack3);
        stacks.Add(stack4);
        stacks.Add(stack5);
        stacks.Add(stack6);
        stacks.Add(stack7);
        stacks.Add(stack8);
        stacks.Add(stack9);

        colorGrid = new Color[9];
        sizeGrid = new int[9];
        cubes = new GameObject[spawnAmount];
        explosions = new GameObject[spawnAmount];

        for(int i = 0; i < spawnAmount; i++) {
            GameObject obj = Instantiate(cube);
            obj.SetActive(false);
            cubes[i] = obj;

            GameObject exp = Instantiate(explosion);
            exp.SetActive(false);
            explosions[i] = exp;
        }
    }

    public void StartGame() {
        manager.ResetHealth();
        InvokeRepeating("Spawn", 3f, spawnRate);
    }

    public void ResumeGame() {
        InvokeRepeating("Spawn", 0, spawnRate);
        Time.timeScale = 1;
    }

    private void Spawn() {

        int randColor = 0;
        int rand = 0;

        if (cubeDirection == 1) {
            if(amountSpawned > spawnsLeft.Length - 1) {
                CancelInvoke();
                StartCoroutine(EndTime());
            }
            else {
                randColor = int.Parse(spawnsLeft[amountSpawned].Substring(1, 1));
                rand = int.Parse(spawnsLeft[amountSpawned].Substring(0, 1));
            }
        }
        else {
             if(amountSpawned > spawnsRight.Length - 1) {
                CancelInvoke();
            }
            else {
                randColor = int.Parse(spawnsRight[amountSpawned].Substring(1, 1));
                rand = int.Parse(spawnsRight[amountSpawned].Substring(0, 1));
            }
        }

        for(int i = 0; i < spawnAmount; i ++) {
            if(cubes[i].activeInHierarchy == false) {
                Rigidbody rigid = cubes[i].GetComponent<Rigidbody>();
                
                rigid.velocity = new Vector3(0, 0, 0);
                rigid.angularVelocity = new Vector3(0, 0, 0);
                cubes[i].SetActive(true);

                Color color = Color.white;
                
                if(randColor < 3) {
                    color = colors[randColor];
                } else {
                    if(randColor == 3) {
                        color = Color.black;
                    }
                    else {
                        color = Color.white;
                    }
                }

                cubes[i].GetComponent<Renderer>().material.color = color;

                if(colorGrid[rand] == color || colorGrid[rand] == Color.clear) {
                    cubes[i].transform.SetParent(plane);
                    cubes[i].layer = LayerMask.NameToLayer("row" + (rand + 1).ToString());
                    cubes[i].GetComponent<RowTrack>().SetRow(rand, null, this, null);
                    cubes[i].transform.localPosition = new Vector3(column1[rand].transform.localPosition.x, column1[rand].transform.localPosition.y, column1[rand].transform.localPosition.z + (column1[rand].transform.localPosition.z * sizeGrid[rand]));
                    cubes[i].transform.localScale = column1[rand].transform.localScale;
                    cubes[i].transform.rotation = column1[rand].transform.rotation;
                    rows[rand].Add(cubes[i]);
                    colorGrid[rand] = color;
                    stacks[rand].Add(cubes[i]);
                    sizeGrid[rand] ++;
                    amountSpawned++;
                    break;
                } else {
                    int max = rows[rand].Count;

                    for(int k = max -1; k >=0; k--) {
                        rows[rand][k].gameObject.transform.localPosition = new Vector3(rows[rand][k].gameObject.transform.localPosition.x - (.05f * cubeDirection), rows[rand][k].gameObject.transform.localPosition.y, rows[rand][k].gameObject.transform.localPosition.z);
                    }

                    cubes[i].transform.SetParent(plane);
                    cubes[i].layer = LayerMask.NameToLayer("row" + (rand + 1).ToString());
                    cubes[i].GetComponent<RowTrack>().SetRow(rand, null, this, null);
                    cubes[i].transform.localPosition = new Vector3(column1[rand].transform.localPosition.x, column1[rand].transform.localPosition.y, column1[rand].transform.localPosition.z);
                    cubes[i].transform.localScale = column1[rand].transform.localScale;
                    cubes[i].transform.rotation = column1[rand].transform.rotation;
                    rows[rand].Add(cubes[i]);
                    colorGrid[rand] = color;
                    stacks[rand].Clear();
                    stacks[rand].Add(cubes[i]);
                    sizeGrid[rand] = 1;
                    amountSpawned++;
                    break;
                }
            }
        }
    }

   IEnumerator EndTime() {
        timeText.gameObject.SetActive(true);
        yield return new WaitForSeconds(1);
        timeText.SetText("4");
        yield return new WaitForSeconds(1);
        timeText.SetText("3");
        yield return new WaitForSeconds(1);
        timeText.SetText("2");
        yield return new WaitForSeconds(1);
        timeText.SetText("1");
        yield return new WaitForSeconds(1);
        timeText.gameObject.SetActive(false);
        manager.UpdateHealth(-1, Vector3.zero);
   }
   public void Remove(int row, GameObject obj) {
       rows[row].Remove(obj);
       if(stacks[row].Contains(obj)) {
           stacks[row].Remove(obj);
           sizeGrid[row] --;
       }
   }

   public void EnableExplosion(Vector3 location, Material material) {
       for(int i = 0; i < explosions.Length; i++) {
           if(!explosions[i].gameObject.activeInHierarchy) {
               explosions[i].transform.position = location;
               ParticleSystem ps = explosions[i].GetComponent<ParticleSystem>();
               var main = ps.main;
               ps.GetComponent<Renderer>().material = material;
               explosions[i].SetActive(true);
               ps.Clear();
               ps.Play();
               break;
           }
       }
   }
}
